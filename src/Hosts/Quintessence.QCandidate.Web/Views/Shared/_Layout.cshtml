@using Microsoft.AspNetCore.Mvc.Localization 
@using Microsoft.AspNetCore.Localization
@using Microsoft.AspNetCore.Http.Extensions

@inject IViewLocalizer Localizer

<!DOCTYPE html>
<html>
<head>
    <title>QCandidate</title>
    <link href="~/css/style.css" rel="stylesheet">
    <link href="~/css/materialize.min.css" rel="stylesheet">
</head>

<body>
    <div class="top-nav">
        <div class="container right-align">
            <div class="social-media">
                <a href="https://www.facebook.com/QuintessenceConsulting"><img src="~/img/facebook-dark.svg" /></a>
                <a href="https://www.linkedin.com/company/quintessence"><img src="~/img/linkedin-dark.svg" /></a>
                <a href="https://twitter.com/Quintessence_Be"><img src="~/img/twitter-dark.svg" /></a>
                <a href="https://www.youtube.com/channel/UCWddCvy4ZzV06N7YYAp_qoQ"><img src="~/img/youtube-dark.svg" /></a>
            </div>

            @{
                var httpContext = ViewContext.HttpContext;
                var currentCulture = httpContext.Features.Get<IRequestCultureFeature>().RequestCulture.UICulture;
                var currentUrl = UriHelper.BuildRelative(httpContext.Request.PathBase, httpContext.Request.Path, httpContext.Request.QueryString);
                var nlClass = currentCulture.Name == "nl" ? "language-active" : string.Empty;
                var frClass = currentCulture.Name == "fr" ? "language-active" : string.Empty;
                var enClass = currentCulture.Name == "en" ? "language-active" : string.Empty;
            }
            <div class="languages">
            @using (Html.BeginForm("SetCulture", "Accounts", new { culture = "nl", returnurl = currentUrl }, FormMethod.Post, true, new { @class = "language-form" }))
            {
                @Html.ActionLink("nl", "", null, null, new { @id = "setNlCulture", @class = nlClass })
            }
            @using (Html.BeginForm("SetCulture", "Accounts", new { culture = "fr", returnurl = currentUrl }, FormMethod.Post, true, new { @class = "language-form" }))
            {
                @Html.ActionLink("fr", "", null, null, new { @id = "setFrCulture", @class = frClass})
            }
            @using (Html.BeginForm("SetCulture", "Accounts", new { culture = "en", returnurl = currentUrl }, FormMethod.Post, true, new { @class = "language-form" }))
            {
                @Html.ActionLink("en", "", null, null, new { @id = "setEnCulture", @class = enClass })
          
            }
            </div>
        </div>
    </div>
    <nav>
        <div class="nav-wrapper container">
            <a href="#" class="brand-logo"><img src="~/img/logo.svg"></a>
            <ul class="navigation">
                <li>@Localizer["DayPlanning"]</li>
            </ul>
            <ul class="right user-information">
                <li>@User.Identity.Name</li>
                <li><a href="@Url.Action("Logout", "Accounts")" class="btn">@Localizer["LogOut"]</a></li>
            </ul>
        </div>
    </nav>

    @RenderBody()

    <footer>
        <div class="container">
            <span class="copyright">&copy; 2020 Quintessence</span>
            <div class="social-media right">
                <a href="https://www.facebook.com/QuintessenceConsulting"><img src="~/img/facebook.svg" /></a>
                <a href="https://www.linkedin.com/company/quintessence"><img src="~/img/linkedin.svg" /></a>
                <a href="https://twitter.com/Quintessence_Be"><img src="~/img/twitter.svg" /></a>
                <a href="https://www.youtube.com/channel/UCWddCvy4ZzV06N7YYAp_qoQ"><img src="~/img/youtube.svg" /></a>
            </div>
        </div>
    </footer>

    <script src="~/js/materialize.min.js"></script>
    <script src="~/js/jquery-3.5.1.min.js"></script>

    <script type="text/javascript">
        $(function () {
            $("#setNlCulture").click(function () {
                document.forms[0].submit();
                return false;
            });

            $("#setFrCulture").click(function () {
                document.forms[1].submit();
                return false;
            });

            $("#setEnCulture").click(function () {
                document.forms[2].submit();
                return false;
            });
        });
    </script>

    @RenderSection("Scripts", required: false)
</body>
</html>