<?xml version="1.0"?>
<configuration>
  <configSections>
    <section name="loggingConfiguration" type="Microsoft.Practices.EnterpriseLibrary.Logging.Configuration.LoggingSettings, Microsoft.Practices.EnterpriseLibrary.Logging" />
  </configSections>

  <connectionStrings>
    <add name="CulturalFit" providerName="System.Data.SqlClient" connectionString="Data Source=vm-dev;Initial Catalog=CulturalFit;Integrated Security=False;User Id=CulturalFitUser;Password=$Quint123;Pooling=false;"/>
  </connectionStrings>

  <appSettings>
    <add key="aspnet:UseTaskFriendlySynchronizationContext" value="true" />
    <add key="ValidationSettings:UnobtrusiveValidationMode" value="WebForms" />
    <add key="ReportingServiceUserName" value="RSUser"/>
    <add key="ReportingServicePassword" value="$Quint123"/>
    <add key="ReportingServiceDomain" value="QUINTDOMAIN"/>
    <add key="ReportingServiceReportPath" value="/CulturalFit Reports/CulturalFitReport"/>
    <add key="NameTheoremListTemplateForCompany" value="Template for companies"/>
    <add key="NameTheoremListTemplateForEmployees" value="Template for employees"/>
  </appSettings>

  <system.webServer>
    <validation validateIntegratedModeConfiguration="false"/>
  </system.webServer>

  <system.web>
    <compilation debug="true" targetFramework="4.5" />
    <httpRuntime requestValidationMode="4.5" targetFramework="4.5" encoderType="System.Web.Security.AntiXss.AntiXssEncoder, System.Web, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" />
    <pages controlRenderingCompatibilityVersion="4.5" />
    <machineKey compatibilityMode="Framework45" />
    <identity impersonate="true"/>
  </system.web>

  <system.serviceModel>
    <services>
      <service name="Quintessence.CulturalFit.Service.Implementation.TheoremListService">
        <endpoint binding="basicHttpBinding"
                  contract="Quintessence.CulturalFit.Service.Contracts.ServiceContracts.ITheoremListService">
          <identity>
            <dns value="localhost" />
          </identity>
        </endpoint>
      </service>
      <service name="Quintessence.CulturalFit.Service.Implementation.TheoremListAdminService">
        <endpoint binding="basicHttpBinding"
                  contract="Quintessence.CulturalFit.Service.Contracts.ServiceContracts.ITheoremListAdminService">
          <identity>
            <dns value="localhost" />
          </identity>
        </endpoint>
      </service>
      <service name="Quintessence.CulturalFit.Service.Implementation.CrmService">
        <endpoint binding="basicHttpBinding"
                  contract="Quintessence.CulturalFit.Service.Contracts.ServiceContracts.ICrmService">
          <identity>
            <dns value="localhost" />
          </identity>
        </endpoint>
      </service>
      <service name="Quintessence.CulturalFit.Service.Implementation.AdminService">
        <endpoint binding="basicHttpBinding"
                  contract="Quintessence.CulturalFit.Service.Contracts.ServiceContracts.IAdminService">
          <identity>
            <dns value="localhost" />
          </identity>
        </endpoint>
      </service>
    </services>
    <client>
      <endpoint address="http://vm-dev:80/ReportServer/ReportExecution2005.asmx"
        binding="basicHttpBinding" bindingConfiguration="ReportExecutionServiceSoap"
        contract="ReportExecutionReference.ReportExecutionServiceSoap"
        name="ReportExecutionServiceSoap" />
    </client>
    <bindings>
      <!--<wsHttpBinding>
        <binding maxReceivedMessageSize="2147483647">
          <readerQuotas maxStringContentLength="2147483647" />
        </binding>
      </wsHttpBinding>-->
      <basicHttpBinding>
        <binding maxReceivedMessageSize="2147483647">
          <readerQuotas maxStringContentLength="2147483647" />
        </binding>
        <binding name="ReportExecutionServiceSoap" closeTimeout="00:01:00"
          openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
          allowCookies="false" bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard"
          maxBufferSize="2147483647" maxBufferPoolSize="524288" maxReceivedMessageSize="2147483647"
          messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered"
          useDefaultWebProxy="true">
          <readerQuotas maxDepth="64" maxStringContentLength="2147483647" maxArrayLength="2147483647"
            maxBytesPerRead="2147483647" maxNameTableCharCount="2147483647"/>

          <security mode="TransportCredentialOnly">
            <transport clientCredentialType="Ntlm" proxyCredentialType="None"
              realm="" />
            <message clientCredentialType="UserName" algorithmSuite="Default" />
          </security>
        </binding>
      </basicHttpBinding>
      <customBinding>
        <binding name="ReportingService2005Soap12">
          <textMessageEncoding maxReadPoolSize="64" maxWritePoolSize="16"
            messageVersion="Soap12" writeEncoding="utf-8">
            <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
              maxBytesPerRead="4096" maxNameTableCharCount="16384" />
          </textMessageEncoding>
          <httpTransport manualAddressing="false" maxBufferPoolSize="524288"
            maxReceivedMessageSize="65536" allowCookies="false" authenticationScheme="Anonymous"
            bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard"
            keepAliveEnabled="true" maxBufferSize="65536" proxyAuthenticationScheme="Anonymous"
            realm="" transferMode="Buffered" unsafeConnectionNtlmAuthentication="false"
            useDefaultWebProxy="true" />
        </binding>
      </customBinding>
    </bindings>
    <behaviors>
      <serviceBehaviors>
        <behavior name="">
          <serviceMetadata httpGetEnabled="true" httpsGetEnabled="true" />
          <serviceDebug includeExceptionDetailInFaults="true" />
        </behavior>
      </serviceBehaviors>
    </behaviors>
    <serviceHostingEnvironment aspNetCompatibilityEnabled="true" multipleSiteBindingsEnabled="true" />
  </system.serviceModel>

  <loggingConfiguration name="Logging Application Block" tracingEnabled="true" defaultCategory="Tracing" logWarningsWhenNoCategoriesMatch="true">
    <listeners>
      <add fileName="C:\ApplicationLogging\CulturalFit\AdminService\AppLog.log" rollSizeKB="1024" timeStampPattern="dd-MM-yyyy" rollFileExistsBehavior="Increment" rollInterval="Day" formatter="Text Formatter" listenerDataType="Quintessence.CulturalFit.Infra.Logging.TraceRollingFlatFileTraceListenerData, Quintessence.CulturalFit.Infra" traceOutputOptions="LogicalOperationStack" type="Quintessence.CulturalFit.Infra.Logging.TraceRollingFlatFileTraceListener, Quintessence.CulturalFit.Infra" name="AppLog" />
      <add fileName="C:\ApplicationLogging\CulturalFit\AdminService\Exception.log" rollSizeKB="1024" timeStampPattern="dd-MM-yyyy" rollFileExistsBehavior="Increment" rollInterval="Day" formatter="Text Formatter" listenerDataType="Quintessence.CulturalFit.Infra.Logging.TraceRollingFlatFileTraceListenerData, Quintessence.CulturalFit.Infra" traceOutputOptions="Callstack" type="Quintessence.CulturalFit.Infra.Logging.TraceRollingFlatFileTraceListener, Quintessence.CulturalFit.Infra" name="Exception" />
      <add fileName="C:\ApplicationLogging\CulturalFit\AdminService\Trace.log" rollSizeKB="1024" timeStampPattern="dd-MM-yyyy" rollFileExistsBehavior="Increment" rollInterval="Day" formatter="Text Formatter" listenerDataType="Quintessence.CulturalFit.Infra.Logging.TraceRollingFlatFileTraceListenerData, Quintessence.CulturalFit.Infra" traceOutputOptions="None" type="Quintessence.CulturalFit.Infra.Logging.TraceRollingFlatFileTraceListener, Quintessence.CulturalFit.Infra" name="Trace" />
    </listeners>
    <formatters>
      <add template="{timestamp} : {message}" type="Microsoft.Practices.EnterpriseLibrary.Logging.Formatters.TextFormatter, Microsoft.Practices.EnterpriseLibrary.Logging" name="Text Formatter" />
    </formatters>
    <categorySources>
      <add switchValue="All" name="AppLog">
        <listeners>
          <add name="AppLog" />
        </listeners>
      </add>
      <add switchValue="Verbose" name="ExceptionHandling">
        <listeners>
          <add name="Exception" />
        </listeners>
      </add>
      <add switchValue="Information" name="Tracing">
        <listeners>
          <add name="Trace" />
        </listeners>
      </add>
    </categorySources>
    <specialSources>
      <allEvents switchValue="All" name="All Events" />
      <notProcessed switchValue="All" name="Unprocessed Category" />
      <errors switchValue="Off" name="Logging Errors &amp; Warnings" />
    </specialSources>
  </loggingConfiguration>
</configuration>
